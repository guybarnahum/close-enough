/*! close-enough 0.0.1 2014-04-25 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";function c(a){this.setY(a)}function d(a){var b=a.toString(16);return 10>a?"0"+b:b}var e=a("../utils"),f=e.clamp,g=e.randomInt;c.MIN_VALUE=0,c.MAX_VALUE=255,c.MID_VALUE=(c.MAX_VALUE+c.MIN_VALUE)/2,c.normalizeComponent=function(a){return f(Math.round(a),c.MIN_VALUE,c.MAX_VALUE)},c.validateComponent=function(a){return a>=c.MIN_VALUE&&a<=c.MAX_VALUE},c.validate=function(a){return c.validateComponent(a)},c.randomValue=function(){return g(c.MIN_VALUE,c.MAX_VALUE)},c.prototype.setY=function(a){this._y=a,this.y=c.normalizeComponent(a)},c.prototype.getY=function(a){return a?this._y:this.y},c.prototype.isOutOfGamut=function(){return!c.validate(this._y)},c.prototype.toString=function(){return"grayscale("+this.y+")"},c.prototype.toHex=function(){return d(this.y)},c.prototype.getRandomNeighbors=function(){var a=Math.min(c.MAX_VALUE-this.y,this.y-c.MIN_VALUE),b=g(-a,a),d=this.y+b,e=new this.constructor(d),f=(this.y-b,new this.constructor(d));return[e,f]},b.exports=c},{"../utils":28}],2:[function(a,b){"use strict";function c(a,b,c){this.setL(a),this.setA(b),this.setB(c)}var d=a("../utils"),e=d.clamp,f=d.random;c.MIN_VALUE_L=0,c.MAX_VALUE_L=100,c.MID_VALUE_L=(c.MAX_VALUE_L+c.MIN_VALUE_L)/2,c.MIN_VALUE_AB=-128,c.MAX_VALUE_AB=127,c.MID_VALUE_AB=(c.MAX_VALUE_AB+c.MIN_VALUE_AB)/2,c.normalizeL=function(a){return e(a,c.MIN_VALUE_L,c.MAX_VALUE_L)},c.normalizeAB=function(a){return e(a,c.MIN_VALUE_AB,c.MAX_VALUE_AB)},c.validateL=function(a){return a>=c.MIN_VALUE_L&&a<=c.MAX_VALUE_L},c.validateAB=function(a){return a>=c.MIN_VALUE_AB&&a<=c.MAX_VALUE_AB},c.validate=function(a,b,d){return c.validateL(a)&&c.validateAB(b)&&c.validateAB(d)},c.randomValueL=function(){return f(c.MIN_VALUE_L,c.MAX_VALUE_L)},c.randomValueAB=function(){return f(c.MIN_VALUE_AB,c.MAX_VALUE_AB)},c.prototype.setL=function(a){this._l=a,this.l=c.normalizeL(a)},c.prototype.setA=function(a){this._a=a,this.a=c.normalizeAB(a)},c.prototype.setB=function(a){this._b=a,this.b=c.normalizeAB(a)},c.prototype.getL=function(a){return a?this._l:this.l},c.prototype.getA=function(a){return a?this._a:this.a},c.prototype.getB=function(a){return a?this._b:this.b},c.prototype.isOutOfGamut=function(){return!c.validate(this._l,this._a,this._b)},c.prototype.toString=function(){return"lab("+this.l+","+this.a+","+this.b+")"},b.exports=c},{"../utils":28}],3:[function(a,b){"use strict";function c(a,b,c){this.setR(a),this.setG(b),this.setB(c)}function d(a){var b=a.toString(16);return 10>a?"0"+b:b}var e=a("../utils"),f=e.clamp,g=e.randomInt;c.MIN_VALUE=0,c.MAX_VALUE=255,c.MID_VALUE=(c.MAX_VALUE+c.MIN_VALUE)/2,c.normalizeComponent=function(a){return f(Math.round(a),c.MIN_VALUE,c.MAX_VALUE)},c.validateComponent=function(a){return a>=c.MIN_VALUE&&a<=c.MAX_VALUE},c.validate=function(a,b,d){return c.validateComponent(a)&&c.validateComponent(b)&&c.validateComponent(d)},c.randomValue=function(){return g(c.MIN_VALUE,c.MAX_VALUE)},c.prototype.setR=function(a){this._r=a,this.r=c.normalizeComponent(a)},c.prototype.setG=function(a){this._g=a,this.g=c.normalizeComponent(a)},c.prototype.setB=function(a){this._b=a,this.b=c.normalizeComponent(a)},c.prototype.getR=function(a){return a?this._r:this.r},c.prototype.getG=function(a){return a?this._g:this.g},c.prototype.getB=function(a){return a?this._b:this.b},c.prototype.isOutOfGamut=function(){return!c.validate(this._r,this._g,this._b)},c.prototype.toString=function(){return"rgb("+this.r+","+this.g+","+this.b+")"},c.prototype.toHex=function(){return d(this.r)+d(this.g)+d(this.b)},b.exports=c},{"../utils":28}],4:[function(a,b){b.exports={direct:[[1,0,0],[0,1,0],[0,0,1]]}},{}],5:[function(a,b){b.exports=a(1)},{"../utils":28}],6:[function(a,b,c){c.RGBModel=a("./rgb-model"),c.RGB=a("./rgb"),c.Lab=a("./lab")},{"./lab":7,"./rgb":11,"./rgb-model":10}],7:[function(a,b){b.exports=a(2)},{"../utils":28}],8:[function(a,b){var c=a("../reference-white/d65");b.exports={rx:.64,ry:.33,gx:.3,gy:.6,bx:.15,by:.06,gamma:-2.2,referenceWhite:c}},{"../reference-white/d65":9}],9:[function(a,b){b.exports={x:.95047,y:1,z:1.08883}},{}],10:[function(a,b){"use strict";function c(a){this.config=g(!0,{},c.defaults,a);var b=this.config.model,d=this.config.adaptation,e=this.config.referenceWhite||b.referenceWhite,f=b.rx,h=b.ry,i=b.gx,j=b.gy,k=b.bx,l=b.by,m=b.gamma,n=b.referenceWhite,o=[[f/h,i/j,k/l],[1,1,1],[(1-f-h)/h,(1-i-j)/j,(1-k-l)/l]],p=c.invertMatrix(o),q=n.x*p[0][0]+n.y*p[0][1]+n.z*p[0][2],r=n.x*p[1][0]+n.y*p[1][1]+n.z*p[1][2],s=n.x*p[2][0]+n.y*p[2][1]+n.z*p[2][2];this.model=b,this.adaptation=d,this.referenceWhite=e,this.matrixRGBToXYZ=c.transposeMatrix([[q*o[0][0],r*o[0][1],s*o[0][2]],[q*o[1][0],r*o[1][1],s*o[1][2]],[q*o[2][0],r*o[2][1],s*o[2][2]]]),this.matrixXYZToRGB=c.invertMatrix(this.matrixRGBToXYZ),m>0?(this.compand=this._compandPositiveGamma,this.inverseCompand=this._inverseCompandPositiveGamma):0>m?(this.compand=this._compandNegativeGamma,this.inverseCompand=this._inverseCompandNegativeGamma):(this.compand=this._compandZeroGamma,this.inverseCompand=this._inverseCompandZeroGamma)}var d=a("./model/srgb"),e=a("./adaptation/none"),f=a("../utils"),g=f.extend,h=216/24389,i=24389/27,j=8;c.defaults={model:d,adaptation:e},c.invertMatrix=function(a){var b=a[2][2]*a[1][1]-a[2][1]*a[1][2],c=a[2][2]*a[0][1]-a[2][1]*a[0][2],d=a[1][2]*a[0][1]-a[1][1]*a[0][2],e=a[0][0]*b-a[1][0]*c+a[2][0]*d,f=1/e,g=[[f*b,-f*c,f*d],[-f*(a[2][2]*a[1][0]-a[2][0]*a[1][2]),f*(a[2][2]*a[0][0]-a[2][0]*a[0][2]),-f*(a[1][2]*a[0][0]-a[1][0]*a[0][2])],[f*(a[2][1]*a[1][0]-a[2][0]*a[1][1]),-f*(a[2][1]*a[0][0]-a[2][0]*a[0][1]),f*(a[1][1]*a[0][0]-a[1][0]*a[0][1])]];return g},c.transposeMatrix=function(a){var b=[[a[0][0],a[1][0],a[2][0]],[a[0][1],a[1][1],a[2][1]],[a[0][2],a[1][2],a[2][2]]];return b},c.prototype._compandPositiveGamma=function(a){var b=this.model.gamma,c=a>=0?Math.pow(a,1/b):-Math.pow(-a,1/b);return c},c.prototype._compandNegativeGamma=function(a){var b,c=(this.model.gamma,1);return 0>a&&(c=-1,a=-a),b=.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055,b*=c},c.prototype._compandZeroGamma=function(a){var b,c=(this.model.gamma,1);return 0>a&&(c=-1,a=-a),b=216/24389>=a?24389*a/2700:1.16*Math.pow(a,1/3)-.16,b*=c},c.prototype._inverseCompandPositiveGamma=function(a){var b,c=this.model.gamma;return b=a>=0?Math.pow(a,c):-Math.pow(-a,c)},c.prototype._inverseCompandNegativeGamma=function(a){var b,c=(this.model.gamma,1);return 0>a&&(c=-1,a=-a),b=.04045>=a?a/12.92:Math.pow((a+.055)/1.055,2.4),b*=c},c.prototype._inverseCompandZeroGamma=function(a){var b,c=(this.model.gamma,1);return 0>a&&(c=-1,a=-a),b=.08>=a?2700*a/24389:(((1e6*a+48e4)*a+76800)*a+4096)/1560896,b*=c},c.prototype.convertRGBToXYZ=function(a,b,c){var d,e,f,g,h,i,j,k,l,m={},n=this.matrixRGBToXYZ,o=this.adaptation.direct,p=this.adaptation.inverse,q=this.referenceWhite,r=this.model.referenceWhite;return a=this.inverseCompand(a/255),b=this.inverseCompand(b/255),c=this.inverseCompand(c/255),m.x=a*n[0][0]+b*n[1][0]+c*n[2][0],m.y=a*n[0][1]+b*n[1][1]+c*n[2][1],m.z=a*n[0][2]+b*n[1][2]+c*n[2][2],p&&q!==r&&(d=q.x*o[0][0]+q.y*o[1][0]+q.z*o[2][0],e=q.x*o[0][1]+q.y*o[1][1]+q.z*o[2][1],f=q.x*o[0][2]+q.y*o[1][2]+q.z*o[2][2],g=r.x*o[0][0]+r.y*o[1][0]+r.z*o[2][0],h=r.x*o[0][1]+r.y*o[1][1]+r.z*o[2][1],i=r.x*o[0][2]+r.y*o[1][2]+r.z*o[2][2],j=m.x*o[0][0]+m.y*o[1][0]+m.z*o[2][0],k=m.x*o[0][1]+m.y*o[1][1]+m.z*o[2][1],l=m.x*o[0][2]+m.y*o[1][2]+m.z*o[2][2],j*=d/g,k*=e/h,l*=f/i,m.x=j*p[0][0]+k*p[1][0]+l*p[2][0],m.y=j*p[0][1]+k*p[1][1]+l*p[2][1],m.z=j*p[0][2]+k*p[1][2]+l*p[2][2]),m},c.prototype.convertXYZToLab=function(a,b,c){var d={},e=this.referenceWhite,f=a/e.x,g=b/e.y,j=c/e.z,k=f>h?Math.pow(f,1/3):(i*f+16)/116,l=g>h?Math.pow(g,1/3):(i*g+16)/116,m=j>h?Math.pow(j,1/3):(i*j+16)/116;return d.l=116*l-16,d.a=500*(k-l),d.b=200*(l-m),d},c.prototype.convertLabToXYZ=function(a,b,c){var d={},e=this.referenceWhite,f=(a+16)/116,g=.002*b+f,k=f-.005*c,l=g*g*g,m=k*k*k,n=l>h?l:(116*g-16)/i,o=a>j?Math.pow((a+16)/116,3):a/i,p=m>h?m:(116*k-16)/i;return d.x=n*e.x,d.y=o*e.y,d.z=p*e.z,d},c.prototype.convertXYZToRGB=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p={},q=this.matrixXYZToRGB,r=this.adaptation.direct,s=this.adaptation.inverse,t=this.referenceWhite,u=this.model.referenceWhite,v=a,w=b,x=c;return s&&t!==u&&(d=t.x*r[0][0]+t.y*r[1][0]+t.z*r[2][0],e=t.x*r[0][1]+t.y*r[1][1]+t.z*r[2][1],f=t.x*r[0][2]+t.y*r[1][2]+t.z*r[2][2],g=u.x*r[0][0]+u.y*r[1][0]+u.z*r[2][0],h=u.x*r[0][1]+u.y*r[1][1]+u.z*r[2][1],i=u.x*r[0][2]+u.y*r[1][2]+u.z*r[2][2],j=a*r[0][0]+b*r[1][0]+c*r[2][0],k=a*r[0][1]+b*r[1][1]+c*r[2][1],l=a*r[0][2]+b*r[1][2]+c*r[2][2],j*=g/d,k*=h/e,l*=i/f,v=j*s[0][0]+k*s[1][0]+l*s[2][0],w=j*s[0][1]+k*s[1][1]+l*s[2][1],x=j*s[0][2]+k*s[1][2]+l*s[2][2]),m=this.compand(v*q[0][0]+w*q[1][0]+x*q[2][0]),n=this.compand(v*q[0][1]+w*q[1][1]+x*q[2][1]),o=this.compand(v*q[0][2]+w*q[1][2]+x*q[2][2]),p.r=Math.abs(255*m),p.g=Math.abs(255*n),p.b=Math.abs(255*o),p},c.prototype.convertRGBToLab=function(a,b,c){var d=this.convertRGBToXYZ(a,b,c);return this.convertXYZToLab(d.x,d.y,d.z)},c.prototype.convertLabToRGB=function(a,b,c){var d=this.convertLabToXYZ(a,b,c);return this.convertXYZToRGB(d.x,d.y,d.z)},c.prototype.convertRGBToGrayscale=function(a,b,c){var d={};return d.y=.2126*a+.7152*b+.0722*c,d},b.exports=c},{"../utils":28,"./adaptation/none":4,"./model/srgb":8}],11:[function(a,b){b.exports=a(3)},{"../utils":28}],12:[function(a,b){"use strict";function c(a,b){this.config=g(!0,{},c.defaults,b),this.maquette=this.config.maquette instanceof e?this.config.maquette:new e(a,this.config.maquette),this.style=this.config.style instanceof f?this.config.style:new f(this.config.style),this.width=this.maquette.scaledWidth*this.config.size,this.height=this.maquette.scaledHeight*this.config.size,this.canvas=this.config.canvas||document.createElement("canvas"),this.context=this.canvas.getContext("2d")}var d=a("./utils"),e=a("./maquette"),f=a("./style").Style,g=(a("./palette"),d.extend),h=d.toRadians;c.defaults={size:10,maquette:{angle:0,background:"rgba(0, 0, 0, 0)",scale:.1},style:{}},c.prototype.render=function(){var a,b,c,d,e=this.maquette,f=(this.palette,this.style),g=this.context,i=e.width,j=e.height,k=0,l=this.config.size,m=e.getImageData().data;for(this.canvas.width=this.width,this.canvas.height=this.height,e.angle&&(g.rotate(h(-e.angle)),g.translate(-e.offsetX*l,-e.offsetY*l)),a=0;j>a;++a)for(c=a*l,b=0;i>b;++b)d=b*l,f.apply(g,d,c,l,l,m[k++],m[k++],m[k++]),k++},c.prototype.getImage=function(){return this.render(),this.canvas},c.prototype.getImageData=function(){return this.render(),this.context.getImageData(0,0,this.width,this.height)},b.exports=c},{"./maquette":14,"./palette":16,"./style":24,"./utils":28}],13:[function(a){"use strict";window.CloseEnough={color:a("./color"),Head:a("./head"),Maquette:a("./maquette"),palette:a("./palette"),style:a("./style"),utils:a("./utils")}},{"./color":6,"./head":12,"./maquette":14,"./palette":16,"./style":24,"./utils":28}],14:[function(a,b){"use strict";function c(a,b){switch(a.nodeName){case"IMG":this.sourceWidth=a.naturalWidth,this.sourceHeight=a.naturalHeight;break;case"VIDEO":this.sourceWidth=a.videoWidth,this.sourceHeight=a.videoHeight;break;case"CANVAS":this.sourceWidth=a.width,this.sourceHeight=a.height;break;default:throw new Error("Invalid source type.")}this.source=a,this.config=e(!0,{},c.defaults,b),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.webkitImageSmoothingEnabled=!1,this.context.mozImageSmoothingEnabled=!1,this.context.imageSmoothingEnabled=!1,this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"),this._context.webkitImageSmoothingEnabled=!1,this._context.mozImageSmoothingEnabled=!1,this._context.imageSmoothingEnabled=!1,this.calculateDimensions()}var d=a("./utils"),e=d.extend,f=d.toRadians;c.defaults={angle:0,background:"rgba(0, 0, 0, 0)",scale:1},c.normalizeAngle=function(a){return(360+a%360)%360},c.prototype.calculateDimensions=function(){var a,b,d,e,g,h,i,j=c.normalizeAngle(this.config.angle),k=this.sourceWidth*this.config.scale,l=this.sourceHeight*this.config.scale;this.scaledWidth=k,this.scaledHeight=l,this.angle=j,j?(this.theta=f(j),d=Math.abs(Math.cos(this.theta)*k),g=Math.abs(Math.sin(this.theta)*k),a=f(90-j),b=Math.abs(Math.cos(a)*l),e=Math.abs(Math.sin(a)*l),h=Math.ceil(b+d),i=Math.ceil(e+g),90>j?(this.offsetX=b,this.offsetY=0):180>j?(this.offsetX=h,this.offsetY=e):270>j?(this.offsetX=d,this.offsetY=i):360>j&&(this.offsetX=0,this.offsetY=g),this.width=h,this.height=i,this.offsetT=e,this.offsetR=d,this.offsetB=g,this.offsetL=b):(this.width=k,this.height=l,this.offsetX=0,this.offsetY=0)},c.prototype.render=function(){var a,b,c=this.width,d=this.height;this.theta?(a=this._canvas,b=this._context,a.width=c,a.height=d,b.fillStyle=this.config.background,b.fillRect(0,0,c,d),b.translate(this.offsetX,this.offsetY),b.rotate(this.theta),b.scale(this.config.scale,this.config.scale),b.drawImage(this.source,0,0),b.restore()):a=this.source,this.canvas.width=c,this.canvas.height=d,this.context.drawImage(a,0,0,c,d)},c.prototype.getImage=function(){return this.render(),this.canvas},c.prototype.getImageData=function(){return this.render(),this.context.getImageData(0,0,this.width,this.height)},b.exports=c},{"./utils":28}],15:[function(a,b){"use strict";var c=a("../utils"),d=a("./palette"),e=a("../color/grayscale"),f=c.inherits,g=c.randomInt,h=f(d);h.prototype.create=function(a){return new this.Grayscale(a)},h.prototype.createFromRGB=function(a,b,c){return new this.RGB(a,b,c).toGrayscale()},h.prototype.getRandomNeighbors=function(a){var b=a.y,c=Math.min(e.MAX_VALUE-b,b-e.MIN_VALUE),d=g(-c,c),f=b+d,h=new a.constructor(f),i=b-d,j=new a.constructor(i);return[h,j]},b.exports=h},{"../color/grayscale":5,"../utils":28,"./palette":18}],16:[function(a,b,c){c.Palette=a("./palette"),c.RGB=a("./rgb"),c.Lab=a("./lab"),c.Grayscale=a("./grayscale")},{"./grayscale":15,"./lab":17,"./palette":18,"./rgb":19}],17:[function(a,b){"use strict";var c=a("../utils"),d=a("./palette"),e=a("../color/lab"),f=(c.inherits,c.randomInt),g=c.inherits(d);g.prototype.create=function(a,b,c){return new this.Lab(a,b,c)},g.prototype.createFromRGB=function(a,b,c){return new this.RGB(a,b,c).toLab()},g.prototype.createRandom=function(){var a=this.Lab.randomValueL(),b=this.Lab.randomValueAB(),c=this.Lab.randomValueAB();return new this.Lab(a,b,c)},g.prototype.getRandomNeighbors=function(a){var b=a.l,c=a.a,d=a.b,g=Math.min(e.MAX_VALUE_L-b,b-e.MIN_VALUE_L),h=Math.min(e.MAX_VALUE_AB-c,c-e.MIN_VALUE_AB),i=Math.min(e.MAX_VALUE_AB-d,d-e.MIN_VALUE_AB),j=f(-g,g),k=.2*f(-h,h),l=.2*f(-i,i),m=new a.constructor(b+j,c+k,d+l),n=new a.constructor(b-j,c-k,d-l);return[m,n]},b.exports=g},{"../color/lab":7,"../utils":28,"./palette":18}],18:[function(a,b){"use strict";function c(a){var b,c,j,k;this.config=d.extend(!0,{},this.constructor.defaults,a),b=this.config.rgbModel instanceof e?this.config.rgbModel:new e(this.config.rgbModel),c=i(f,{toRGB:function(){return this},toLab:function(){var a=b.convertRGBToLab(this.r,this.g,this.b);return new j(a.l,a.a,a.b)},toGrayscale:function(){var a=b.convertRGBToGrayscale(this.r,this.g,this.b);return new k(a.y)}}),this.RGB=c,j=i(g,{toRGB:function(){var a=b.convertLabToRGB(this.l,this.a,this.b);return new c(a.r,a.g,a.b)},toLab:function(){return this},toGrayscale:function(){return this.toRGB().toGrayscale()}}),this.Lab=j,k=i(h,{toRGB:function(){return new c(this.y,this.y,this.y)},toLab:function(){return this.toRGB().toLab()},toGrayscale:function(){return this}}),this.Grayscale=k}var d=a("../utils"),e=a("../color/rgb-model"),f=a("../color/RGB"),g=a("../color/Lab"),h=a("../color/Grayscale"),i=(d.extend,d.inherits);c.defaults={rgbModel:{}},c.prototype.create=function(){throw new Error("Palette.prototype.create is an abstract method.")},c.prototype.createFromRGB=function(){throw new Error("Palette.prototype.createFromRGB is an abstract method.")},b.exports=c},{"../color/Grayscale":1,"../color/Lab":2,"../color/RGB":3,"../color/rgb-model":10,"../utils":28}],19:[function(a,b){"use strict";var c=a("../utils"),d=a("./palette"),e=a("../color/RGB"),f=c.inherits,g=c.randomInt,h=f(d);h.prototype.create=function(a,b,c){return new this.RGB(a,b,c)},h.prototype.createFromRGB=function(a,b,c){return this.create(a,b,c)},h.prototype.createRandom=function(){var a=this.RGB.randomValue(),b=this.RGB.randomValue(),c=this.RGB.randomValue();return new this.RGB(a,b,c)},h.prototype.getRandomNeighbors=function(a){var b=a.r,c=a.g,d=a.b,f=Math.min(e.MAX_VALUE-b,b-e.MIN_VALUE),h=Math.min(e.MAX_VALUE-c,c-e.MIN_VALUE),i=Math.min(e.MAX_VALUE-d,d-e.MIN_VALUE),j=.9,k=g(-f,f)*j,l=g(-h,h)*j,m=g(-i,i)*j,n=b+k,o=c+l,p=d+m,q=new a.constructor(n,o,p),r=b-k,s=c-l,t=d-m,u=new a.constructor(r,s,t);return[q,u]},b.exports=h},{"../color/RGB":3,"../utils":28,"./palette":18}],20:[function(a,b){"use strict";function c(a){this.config=g(!0,{},c.defaults,a),this.palette=this.config.palette instanceof e?this.config.palette:new e(this.config.palette)}var d=a("./style"),e=a("../palette").Palette,f=a("../utils"),g=f.extend,h=(f.getRadiusFromArea,f.shuffle),i=f.random,j=(f.randomInt,f.toRadians);f.inherits(c,d),c.defaults={depth:5,palette:{}},c.prototype.paintRectangle=function(a,b,c,d,e,f){a.fillStyle=f.toString(),a.fillRect(b,c,d,e)},c.prototype.paintBlob=function(a,b,c,d,e,f){function g(a){return(a-.5)*d+i(-m,m)}function h(a){return(a-.5)*e+i(-m,m)}var k=b+d/2,l=c+e/2,m=.03125,n=i(-180,180);a.save(),a.translate(k,l),a.rotate(j(n)),a.moveTo(g(1),h(.5)),a.beginPath(),a.bezierCurveTo(g(1),h(.87839),g(.77674),h(1),g(.5),h(.98564)),a.bezierCurveTo(g(.22326),h(.90312),g(0),h(.7026),g(0),h(.5)),a.bezierCurveTo(g(0),h(.29741),g(.22326),h(.09687),g(.5),h(.01436)),a.bezierCurveTo(g(.77674),h(0),g(1),h(.12163),g(1),h(.5)),a.rotate(j(-n)),a.closePath(),a.lineWidth=d/3,a.strokeStyle=f.toString(),a.stroke(),a.restore()},c.prototype.apply=function(a,b,c,d,e,f,g,i){var j,k,l,m,n=this.palette,o=n.createFromRGB(f,g,i),p=[o],q=this.config.depth,r=d*e;for(j=1;q>j;++j)p.push.apply(p,n.getRandomNeighbors(p.pop()));for(h(p),this.paintRectangle(a,b,c,d,e,p[0].toRGB()),j=1,k=p.length;k>j;++j)r/=2,l=m=Math.sqrt(r),this.paintBlob(a,b+(d-l)/2,c+(e-m)/2,l,m,p[j].toRGB())},b.exports=c},{"../palette":16,"../utils":28,"./style":26}],21:[function(a,b){"use strict";function c(a){this.config=g(!0,{},c.defaults,a),this.palette=this.config.palette instanceof e?this.config.palette:new e(this.config.palette)}var d=a("./style"),e=a("../palette").Palette,f=a("../utils"),g=f.extend;f.inherits(c,d),c.defaults={scale:1,palette:{}},c.prototype.paintRectangle=function(a,b,c,d,e,f){var g=this.config.scale,h=d*g,i=e*g,j=h-d,k=i-e,l=j/2,m=k/2,n=b-l,o=c-m,p=n+h,q=o+i,r=n+h/2,s=o+i/2;a.beginPath(),a.lineTo(r,o),a.lineTo(p,s),a.lineTo(r,q),a.lineTo(n,s),a.lineTo(r,o),a.closePath(),a.fillStyle=f.toString(),a.fill()},c.prototype.apply=function(a,b,c,d,e,f,g,h){var i=this.palette,j=i.createFromRGB(f,g,h);this.paintRectangle(a,b,c,d,e,j.toRGB())},b.exports=c},{"../palette":16,"../utils":28,"./style":26}],22:[function(a,b){"use strict";function c(a){this.config=g(!0,{},c.defaults,a),this.palette=this.config.palette instanceof e?this.config.palette:new e(this.config.palette)}{var d=a("./style"),e=a("../palette").Palette,f=a("../utils"),g=f.extend,h=f.getRadiusFromArea;f.shuffle}f.inherits(c,d),c.defaults={depth:5,palette:{}},c.prototype.paintRectangle=function(a,b,c,d,e,f){a.fillStyle=f.toString(),a.fillRect(b,c,d,e)},c.prototype.paintCircle=function(a,b,c,d,e){a.beginPath(),a.arc(b,c,d,0,2*Math.PI),a.closePath(),a.fillStyle=e.toString(),a.fill()},c.prototype.apply=function(a,b,c,d,e,f,g,i){var j,k,l,m=this.palette,n=m.createFromRGB(f,g,i),o=[],p=this.config.depth,q=b+d/2,r=c+e/2,s=d*e;for(j=1;p>j;++j)o.push.apply(o,m.getRandomNeighbors(n));for(this.paintRectangle(a,b,c,d,e,o[0].toRGB()),j=1,k=o.length;k>j;++j)s/=2,l=h(s),this.paintCircle(a,q,r,l,o[j].toRGB())},b.exports=c},{"../palette":16,"../utils":28,"./style":26}],23:[function(a,b){"use strict";function c(a){this.config=g(!0,{},c.defaults,a),this.palette=this.config.palette instanceof e?this.config.palette:new e(this.config.palette)}{var d=a("./style"),e=a("../palette").Palette,f=a("../utils"),g=f.extend,h=f.getRadiusFromArea;f.shuffle}f.inherits(c,d),c.defaults={depth:5,palette:{}},c.prototype.paintRectangle=function(a,b,c,d,e,f){a.fillStyle=f.toString(),a.fillRect(b,c,d,e)},c.prototype.paintCircle=function(a,b,c,d,e){a.beginPath(),a.arc(b,c,d,0,2*Math.PI),a.closePath(),a.fillStyle=e.toString(),a.fill()},c.prototype.apply=function(a,b,c,d,e,f,g,i){var j,k,l,m=this.palette,n=m.createFromRGB(f,g,i),o=[n],p=this.config.depth,q=b+d/2,r=c+e/2,s=d*e;for(j=1;p>j;++j)o.push.apply(o,m.getRandomNeighbors(o.pop()));for(this.paintRectangle(a,b,c,d,e,o[0].toRGB()),j=1,k=o.length;k>j;++j)s/=2,l=h(s),this.paintCircle(a,q,r,l,o[j].toRGB())},b.exports=c},{"../palette":16,"../utils":28,"./style":26}],24:[function(a,b,c){c.Style=a("./style"),c.Dots=a("./dots"),c.Mosaic=a("./mosaic"),c.Diamond=a("./diamond"),c.DotsRedux=a("./dots-redux"),c.Blobs=a("./blobs"),c.Triangle=a("./triangle")},{"./blobs":20,"./diamond":21,"./dots":23,"./dots-redux":22,"./mosaic":25,"./style":26,"./triangle":27}],25:[function(a,b){"use strict";function c(a){this.config=g(!0,{},c.defaults,a),this.palette=this.config.palette instanceof e?this.config.palette:new e(this.config.palette)}var d=a("./style"),e=a("../palette").Palette,f=a("../utils"),g=f.extend;f.inherits(c,d),c.defaults={palette:{}},c.prototype.paintRectangle=function(a,b,c,d,e,f){a.fillStyle=f.toString(),a.fillRect(b,c,d,e)},c.prototype.apply=function(a,b,c,d,e,f,g,h){var i=this.palette,j=i.createFromRGB(f,g,h);this.paintRectangle(a,b,c,d,e,j.toRGB())},b.exports=c},{"../palette":16,"../utils":28,"./style":26}],26:[function(a,b){"use strict";function c(a){this.config=f(!0,{},c.defaults,a),this.palette=this.config.palette instanceof e?this.config.palette:new e(this.config.palette)}var d=a("../utils"),e=a("../palette").Palette,f=d.extend;c.defaults={palette:{}},c.prototype.apply=function(){throw new Error("Style.prototype.apply is an abstract method")},b.exports=c},{"../palette":16,"../utils":28}],27:[function(a,b){"use strict";function c(a){this.config=g(!0,{},c.defaults,a),this.palette=this.config.palette instanceof e?this.config.palette:new e(this.config.palette)}var d=a("./style"),e=a("../palette").Palette,f=a("../utils"),g=f.extend;f.inherits(c,d),c.defaults={palette:{}},c.prototype.paintRectangle=function(a,b,c,d,e,f){a.fillStyle=f.toString(),a.fillRect(b,c,d,e)},c.prototype.apply=function(a,b,c,d,e,f,g,h){var i=this.palette,j=i.createFromRGB(f,g,h),k=i.getRandomNeighbors(j);this.config.random&&Math.random()>.5?(a.beginPath(),a.moveTo(b,c),a.lineTo(b+d,c),a.lineTo(b,c+e),a.lineTo(b,c),a.fillStyle=k[0].toRGB().toString(),a.fill(),a.closePath(),a.beginPath(),a.moveTo(b,c+e),a.lineTo(b+d,c),a.lineTo(b+d,c+e),a.lineTo(b,c+e),a.fillStyle=k[1].toRGB().toString(),a.fill(),a.closePath()):(a.beginPath(),a.moveTo(b,c),a.lineTo(b+d,c),a.lineTo(b+d,c+e),a.lineTo(b,c),a.fillStyle=k[0].toRGB().toString(),a.fill(),a.closePath(),a.beginPath(),a.moveTo(b,c),a.lineTo(b+d,c+e),a.lineTo(b,c+e),a.lineTo(b,c),a.fillStyle=k[1].toRGB().toString(),a.fill(),a.closePath())},b.exports=c},{"../palette":16,"../utils":28,"./style":26}],28:[function(a,b,c){"use strict";c.extend=a("extend"),c.clamp=function(a,b,c){return b>a?b:a>c?c:a},c.random=function(a,b){var d,e,f;return"undefined"==typeof b&&(b=a,a=0),b>a?(d=a,e=b):(e=a,d=b),f=Math.random()*(e-d)||c.randomInt(1),f+d},c.randomInt=function(a,b){var c,d;return"undefined"==typeof b&&(b=a,a=0),b>a?(c=a,d=b):(d=a,c=b),Math.floor(Math.random()*(d-c+1)+c)};var d=Object.prototype;c.has=function(a,b){return d.hasOwnProperty.call(a,b)},c.inherits=function(a,b,d){var e;"function"!=typeof b&&(d=b,b=a,a=function(){this.constructor.super.apply(this,arguments)});for(e in b)c.has(b,e)&&(a[e]=b[e]);if(a.super=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),"undefined"!=typeof d)for(e in d)c.has(d,e)&&(a.prototype[e]=d[e]);return a},c.getAreaFromRadius=function(a){return Math.PI*a*a},c.getRadiusFromArea=function(a){return Math.sqrt(a/Math.PI)},c.sortRandom=function(){return.5-Math.random()},c.shuffle=function(a){return a.sort(c.sortRandom)},c.TO_RADIANS=Math.PI/180,c.toRadians=function(a){return a*c.TO_RADIANS}},{extend:29}],29:[function(a,b){function c(a){if(!a||"[object Object]"!==e.call(a)||a.nodeType||a.setInterval)return!1;var b=d.call(a,"constructor"),c=d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return void 0===f||d.call(a,f)}var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString;b.exports=function f(){var a,b,d,e,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[1]||{},j=2),"object"!=typeof i&&"function"!=typeof i&&(i={});k>j;j++)if(null!=(a=arguments[j]))for(b in a)d=i[b],e=a[b],i!==e&&(l&&e&&(c(e)||(g=Array.isArray(e)))?(g?(g=!1,h=d&&Array.isArray(d)?d:[]):h=d&&c(d)?d:{},i[b]=f(l,h,e)):void 0!==e&&(i[b]=e));return i}},{}]},{},[13]);